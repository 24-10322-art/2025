import streamlit as st

st.set_page_config(page_title="🌟 MBTI 진로 추천 🌟", page_icon="🧭", layout="centered")

# ────────────────────────────── 헤더 ──────────────────────────────
st.markdown(
    """
    <h1 style='text-align:center; color:#ff66b2; font-size: 50px;'>
    🌈✨ MBTI 기반 진로 추천 🧭💼
    </h1>
    """,
    unsafe_allow_html=True
)

st.markdown(
    """
    <p style='text-align:center; font-size:20px;'>
    💡 <b>당신의 MBTI에 맞는 찰떡 직업</b>을 찾아보세요! 🎯<br>
    (단순 참고용이며, 흥미·가치관·능력에 따라 달라질 수 있어요 💖)
    </p>
    """,
    unsafe_allow_html=True
)

# ────────────────────────────── MBTI 데이터 ──────────────────────────────
MBTI_DATA = {
    "INTJ": {
        "summary": "🧠 전략적 · 분석적 · 장기계획형 🚀",
        "jobs": ["💼 전략 컨설턴트", "📊 데이터 사이언티스트", "🔬 연구원", "🖥️ 시스템 아키텍트", "📈 투자 분석가"],
    },
    "INTP": {
        "summary": "🔍 탐구형 · 논리적 · 아이디어 뱅크 🧩",
        "jobs": ["🧑‍💻 알고리즘 개발자", "🔐 보안 분석가", "📝 기술 작가", "🤖 머신러닝 엔지니어", "📚 학계 연구자"],
    },
    "ENTJ": {
        "summary": "👑 카리스마 리더 · 목표 지향형 ⚡",
        "jobs": ["📊 경영 컨설턴트", "🧑‍💼 사업 개발", "📈 투자은행 애널리스트", "🗂️ 프로젝트 매니저", "🚀 창업가"],
    },
    "ENTP": {
        "summary": "⚡ 혁신적 · 모험가 · 아이디어 폭발 🌍",
        "jobs": ["🚀 스타트업 창업가", "🎯 마케팅 전략가", "📺 방송인", "💡 혁신 컨설턴트", "📣 광고 기획자"],
    },
    "INFJ": {
        "summary": "🌿 가치 지향 · 통찰력 · 공감능력 💞",
        "jobs": ["🧑‍🏫 상담가", "📖 작가", "🎓 교사", "🌍 NGO 활동가", "👥 HRD 교육기획"],
    },
    "INFP": {
        "summary": "🎨 이상주의자 · 창의적 · 자기표현 🌈",
        "jobs": ["📖 소설가", "🌸 일러스트레이터", "🎶 작곡가", "🧑‍🏫 아동복지사", "📚 번역가"],
    },
    "ENFJ": {
        "summary": "🤝 사람 중심 · 코칭형 리더 💡",
        "jobs": ["🧑‍🏫 교사", "🧑‍💼 인사 매니저", "🪄 브랜드 매니저", "📣 PR 매니저", "🎤 세일즈 리더"],
    },
    "ENFP": {
        "summary": "🌟 열정적 · 자유로운 영혼 · 크리에이터 ✨",
        "jobs": ["🎨 크리에이티브 디렉터", "🎬 콘텐츠 마케터", "🎉 이벤트 플래너", "📲 SNS 매니저", "🌍 여행 기획자"],
    },
    "ISTJ": {
        "summary": "📏 철저 · 체계적 · 책임감 강함 🛠️",
        "jobs": ["🧮 회계사", "💼 세무사", "📊 품질관리(QA)", "🏛️ 공무원", "📜 규정 준수 담당자"],
    },
    "ISFJ": {
        "summary": "💖 헌신적 · 세심함 · 돌봄형 🌷",
        "jobs": ["🏥 간호사", "📚 사서", "🎓 교직원", "📞 고객 지원", "🧾 재무 행정"],
    },
    "ESTJ": {
        "summary": "📋 조직적 · 실행력 최고 · 관리자형 💪",
        "jobs": ["🏭 생산관리자", "📊 운영 매니저", "🗂️ 프로젝트 매니저", "🚔 군/경 관리직", "🚚 SCM 매니저"],
    },
    "ESFJ": {
        "summary": "🤗 친화적 · 배려형 · 협업 천재 🎀",
        "jobs": ["🎓 보조교사", "🏥 병원 코디네이터", "💁 고객 성공 매니저", "🎪 이벤트 운영자", "🛍️ 리테일 매니저"],
    },
    "ISTP": {
        "summary": "🔧 문제 해결사 · 손재주 · 실험형 ⚙️",
        "jobs": ["💻 시스템 엔지니어", "🔐 보안 엔지니어", "⚡ DevOps 엔지니어", "🕹️ 게임 툴 개발자", "🤖 로봇 기술자"],
    },
    "ISFP": {
        "summary": "🎨 예술적 · 감성적 · 유연한 크리에이터 🌸",
        "jobs": ["🎨 그래픽 디자이너", "👗 패션 디자이너", "📷 사진가", "🎥 영상 편집자", "🌹 플로리스트"],
    },
    "ESTP": {
        "summary": "⚡ 모험가 · 활동적 · 사교적 🎯",
        "jobs": ["💼 영업 전문가", "📈 단기 트레이더", "🚒 소방/응급 구조", "⚽ 스포츠 마케터", "🏗️ 현장 엔지니어"],
    },
    "ESFP": {
        "summary": "🎉 에너지 폭발 · 사교성 만렙 · 즉흥형 🌟",
        "jobs": ["🎭 배우", "🎤 방송 리포터", "🎪 이벤트 플래너", "✈️ 승무원", "🏨 호텔리어"],
    },
}

# ────────────────────────────── UI ──────────────────────────────
st.markdown("## 🔮 당신의 MBTI를 골라주세요!")
mbti = st.selectbox("👇 MBTI 선택", options=sorted(MBTI_DATA.keys()))

# ────────────────────────────── 결과 출력 ──────────────────────────────
if mbti:
    data = MBTI_DATA[mbti]
    st.markdown(f"### ✨ {mbti} 유형의 특징 💎")
    st.success(data["summary"])
    
    st.markdown("### 🌟 어울리는 직업 리스트 🎉")
    for job in data["jobs"]:
        st.markdown(f"- {job}")

    st.info("💡 Tip: 직업 이름을 구글에 검색해서 더 자세히 알아보세요! 🔍")

# ────────────────────────────── 전체 리스트 ──────────────────────────────
with st.expander("🌈 16가지 MBTI 전체 직업 리스트 보기 🌍"):
    for t in sorted(MBTI_DATA.keys()):
        st.markdown(f"#### ✨ {t} 유형")
        st.write(MBTI_DATA[t]["summary"])
        st.markdown(" , ".join(MBTI_DATA[t]["jobs"]))
        st.markdown("---")

# ────────────────────────────── 푸터 ──────────────────────────────
st.markdown(
    """
    <div style='text-align:center; color:#999; font-size:14px;'>
    🌟 MBTI Career Recommender © 2025 | Made with ❤️ + ☕ + Streamlit 🎨
    </div>
    """,
    unsafe_allow_html=True
)
